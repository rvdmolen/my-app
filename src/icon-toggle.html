<link rel="import" href="./../bower_components/polymer/polymer-element.html">
<link rel="import" href="./../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/polymer/lib/mixins/gesture-event-listeners.html">

<dom-module id="icon-toggle">
    <template>
        <style>
            :host {
                display: inline-block;
                cursor: pointer;

            }
            iron-icon {
                fill: var(--icon-toggle-color, rgba(0,0,0,0));
                stroke: var(--icon-toggle-outline-color, currentcolor);
            }
            :host([pressed]) iron-icon {
                fill: var(--icon-toggle-pressed-color, currentcolor);
            }
        </style>

        <iron-icon icon="[[toggleIcon]]"></iron-icon>

    </template>

    <script>
        class IconToggle extends Polymer.GestureEventListeners(Polymer.Element) {
            static get is() {
                return 'icon-toggle';
            }

            static get properties() {
                return {
                    toggleIcon: {
                        type: String,
                        value: false
                    },
                    pressed: {
                        type: Boolean,
                        notify: true,
                        reflectToAttribute: true,
                        value: true
                    }
                };
            }

            constructor() {
                super();
                Polymer.Gestures.addListener(this, 'tap', () => this.toggle());
            }

            toggle() {
                this.pressed = !this.pressed;
            }
        }
        customElements.define(IconToggle.is, IconToggle);
    </script>

</dom-module>

